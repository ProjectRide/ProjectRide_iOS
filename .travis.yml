
language: objective-c
osx_image: xcode8

cache:
  - cocoapods # Caching Cocoa Pods to reduce build time

before_install:
  - pod repo update # need to do a repo update as the newest pods won't be available otherwise

install:
  - gem install slather --user-install  

script:
  - swift -version
  - xcodebuild -version
  - xcodebuild -showsdks
  - swiftlint lint --config .swiftlint.yml
  - sleep 5
  - set -o pipefail
  - xcodebuild clean test -workspace ProjectRide.xcworkspace -scheme ProjectRide -destination "platform=iOS Simulator,name=iPhone 7 Plus"

after_success:
  - slather

notifications:
  slack:
    rooms:
      - rideproject:cckd3V5cz51Mss8idF4qiU5j#general
      - rideproject:cckd3V5cz51Mss8idF4qiU5j#ios